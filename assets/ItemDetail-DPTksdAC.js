import{h as r,j as P,C as A,D as j,q as g,T as F,E,G,d as R,H as V,n as H,u as U,s as Y,r as O,o as J,y as m,f as c,v as S,w as y,b as l,z as C,a as v,B as _,c as b,F as Q,x as $,I as K,A as W,g as X}from"./index-BLlaJK7K.js";import{Q as L}from"./QImg-BbtqDWKZ.js";import{Q as Z}from"./QBtnGroup-Cint9LlS.js";import{_ as ee,Q as te}from"./DefaultItemImage-T-9GOpeN.js";import{u as ae,a as ne,Q as se}from"./QPage-BJdCWhEq.js";const oe=[r("g",{transform:"translate(-20,-20)"},[r("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[r("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),r("g",{transform:"translate(20,20) rotate(15 50 50)"},[r("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[r("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])],le=P({name:"QSpinnerGears",props:A,setup(a){const{cSize:u,classes:d}=j(a);return()=>r("svg",{class:d.value,width:u.value,height:u.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},oe)}}),re={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ie(a,u=()=>{},d=()=>{}){return{transitionProps:g(()=>{const s=`q-transition--${a.transitionShow||u()}`,e=`q-transition--${a.transitionHide||d()}`;return{appear:!0,enterFromClass:`${s}-enter-from`,enterActiveClass:`${s}-enter-active`,enterToClass:`${s}-enter-to`,leaveFromClass:`${e}-leave-from`,leaveActiveClass:`${e}-leave-active`,leaveToClass:`${e}-leave-to`}}),transitionStyle:g(()=>`--q-transition-duration: ${a.transitionDuration}ms`)}}const ce=P({name:"QInnerLoading",props:{...ae,...re,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(a,{slots:u}){const d=E(),s=ne(a,d.proxy.$q),{transitionProps:e,transitionStyle:x}=ie(a),f=g(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(s.value===!0?" q-inner-loading--dark":"")),p=g(()=>"q-inner-loading__label"+(a.labelClass!==void 0?` ${a.labelClass}`:""));function q(){const w=[r(G,{size:a.size,color:a.color})];return a.label!==void 0&&w.push(r("div",{class:p.value,style:a.labelStyle},[a.label])),w}function k(){return a.showing===!0?r("div",{class:f.value,style:x.value},u.default!==void 0?u.default():q()):null}return()=>r(F,e.value,k)}}),ue={class:"column items-center",style:{width:"100%","max-width":"600px"}},de={class:"full-width flex justify-center q-mb-md"},me={class:"text-h5 q-mt-md text-center"},ve={class:"text-h6 q-mt-sm text-center"},fe={class:"q-mt-md"},pe={key:0,class:"q-mt-md full-width"},he={class:"text-h6 text-center",style:{"margin-bottom":"0.6rem"}},Ce={class:"row justify-center q-gutter-sm"},ge={class:"text-h6 q-mt-md text-center"},ye={key:1},_e={key:2},qe=R({__name:"ItemDetail",setup(a){const u=V(),d=H(),s=U(),{currentMenuItem:e,error:x}=Y(s),f=O(1),p=O({}),q=g(()=>s.cartItemCount),k=g(()=>!e.value||!e.value.menuItemOptions?{}:e.value.menuItemOptions.reduce((n,t)=>(n[t.optionCategory]||(n[t.optionCategory]=[]),n[t.optionCategory].push({label:t.option,value:t.option,additionalPrice:t.additionalPrice}),n),{}));J(async()=>{const n=parseInt(u.params.id);s.menuConfigurations.length===0&&await s.fetchAllMenus(),s.setCurrentMenuItem(n),e.value&&e.value.menuItemOptions&&e.value.menuItemOptions.forEach(t=>{if(!p.value[t.optionCategory]){const h=k.value[t.optionCategory][0];p.value[t.optionCategory]=h.value}})});const w=(n,t)=>{p.value[n]=t},z=()=>{f.value++},T=()=>{f.value>1&&f.value--},B=()=>{if(e.value){const n=Object.entries(p.value).map(([t,h])=>{const i=e.value.menuItemOptions.find(o=>o.optionCategory===t&&o.option===h);return{category:t,option:h,additionalPrice:i?i.additionalPrice:0}});s.addToCart(e.value,f.value,n),d.push("/menu")}},M=()=>{d.push("/cart")},D=()=>{d.push("/menu")},N=g(()=>{let n=e.value?e.value.price:0;return Object.entries(p.value).forEach(([t,h])=>{var o;const i=(o=e.value)==null?void 0:o.menuItemOptions.find(I=>I.optionCategory===t&&I.option===h);i&&(n+=i.additionalPrice)}),n*f.value});return(n,t)=>m(e)?(c(),S(se,{key:0,class:"q-pa-md flex flex-center"},{default:y(()=>[l(C,{icon:"arrow_back",flat:"",round:"",dense:"",class:"absolute-top-left q-ma-md",onClick:D,style:{"z-index":"999"}}),v("div",ue,[v("div",de,[m(e).photoUrl&&m(e).photoUrl!==""?(c(),S(L,{key:0,src:m(e).photoUrl,ratio:1,fit:"cover",style:{width:"50vh",height:"50vh"}},null,8,["src"])):(c(),S(L,{key:1,src:ee,ratio:1,fit:"cover",style:{width:"50vh",height:"20vh"}}))]),v("div",me,[v("strong",null,_(m(e).name),1)]),v("div",ve,"$"+_(N.value.toFixed(2)),1),v("div",fe,[l(Z,null,{default:y(()=>[l(C,{icon:"remove",onClick:T}),l(C,{style:{"font-size":"1.25rem"},label:f.value},null,8,["label"]),l(C,{icon:"add",onClick:z})]),_:1})]),m(e).menuItemOptions?(c(),b("div",pe,[(c(!0),b(Q,null,$(k.value,(h,i)=>(c(),b("div",{key:i,class:"q-mb-sm"},[v("div",he,_(i)+":",1),v("div",Ce,[(c(!0),b(Q,null,$(h,o=>(c(),S(C,{key:o.value,label:`${o.label} +$${o.additionalPrice.toFixed(2)}`,color:p.value[i]===o.value?"primary":"grey-6","text-color":"white",onClick:I=>w(i,o.value),class:"col-auto"},null,8,["label","color","onClick"]))),128))])]))),128))])):K("",!0),l(C,{color:"primary",class:"q-mt-md q-px-xl",label:"Add to Cart",onClick:B,style:{"font-size":"1.1rem"}}),v("div",ge,_(m(e).description),1)]),l(te,{position:"bottom-right",offset:[18,18]},{default:y(()=>[l(C,{fab:"",icon:"shopping_cart",color:"primary",onClick:M},{default:y(()=>[l(W,{color:"red",floating:""},{default:y(()=>[X(_(q.value),1)]),_:1})]),_:1})]),_:1})]),_:1})):m(x)?(c(),b("div",ye,_(m(x)),1)):(c(),b("div",_e,[l(ce,{showing:""},{default:y(()=>[l(le,{size:"50px",color:"primary"})]),_:1})]))}});export{qe as default};
