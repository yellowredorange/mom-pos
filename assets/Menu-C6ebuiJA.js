import{j as x,u as k,k as T,l as q,d as w,m as B,n as V,s as S,r as M,q as f,o as F,f as l,t as _,w as a,a as c,b as t,c as m,v,x as N,F as g,Q as P,y as b,g as $,z as i}from"./index-BQzI9_lJ.js";import{Q as j}from"./QImg-B-imhTN6.js";import{Q as A,a as y}from"./QCard-UxjtLQ9H.js";import{Q as D,a as E}from"./QPageSticky-5J3O3fUX.js";import{Q as R}from"./QPage-DrVuV0ws.js";const U=x({name:"QTab",props:k,emits:T,setup(p,{slots:u,emit:o}){const{renderTab:s}=q(p,u,o);return()=>s("div")}}),z={class:"q-mb-md"},L={class:"row q-col-gutter-md"},G={class:"text-h6"},H={class:"text-subtitle2"},J={class:"text-h5 q-mt-sm q-mb-xs"},ee=w({__name:"Menu",setup(p){const u=B(),o=V(),{categories:s}=S(o),r=M(null),Q=f(()=>{var n;return r.value?(n=s.value.find(d=>d.categoryId===r.value))==null?void 0:n.menuItems:[]}),h=f(()=>o.cartItemCount);F(async()=>{await o.fetchAllMenus(),s.value.length>0&&(r.value=s.value[0].categoryId)});const C=n=>{u.push(`/item/${n.menuItemId}`)},I=()=>{u.push("/cart")};return(n,d)=>(l(),_(R,{class:"q-pa-md"},{default:a(()=>[c("div",z,[t(P,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=e=>r.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:a(()=>[(l(!0),m(g,null,v(N(s),e=>(l(),_(U,{key:e.categoryId,name:e.categoryId,label:e.name},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])]),c("div",L,[(l(!0),m(g,null,v(Q.value,e=>(l(),m("div",{key:e.menuItemId,class:"col-12 col-sm-6 col-md-4"},[t(A,{class:"my-card"},{default:a(()=>[t(j,{src:e.photoUrl},null,8,["src"]),t(y,null,{default:a(()=>[c("div",G,i(e.name),1),c("div",H,i(e.description),1)]),_:2},1024),t(y,{class:"q-pt-none"},{default:a(()=>[c("div",J,"$"+i(e.price.toFixed(2)),1),t(b,{color:"primary",label:"Add to Cart",onClick:K=>C(e)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),t(E,{position:"bottom-right",offset:[18,18]},{default:a(()=>[t(b,{fab:"",icon:"shopping_cart",color:"primary",onClick:I},{default:a(()=>[t(D,{color:"red",floating:""},{default:a(()=>[$(i(h.value),1)]),_:1})]),_:1})]),_:1})]),_:1}))}});export{ee as default};
