import{j as w,k as T,l as q,m as x,d as S,n as B,u as M,s as U,q as p,o as V,t as $,f as c,v as m,w as s,a as o,b as r,c as _,x as g,y as F,F as v,Q as N,z as y,A as P,g as A,B as i,_ as D}from"./index-BLlaJK7K.js";import{Q as C}from"./QImg-BbtqDWKZ.js";import{Q as E,a as b}from"./QCard-DA5oEvK6.js";import{Q as R,_ as j}from"./DefaultItemImage-T-9GOpeN.js";import{Q as z}from"./QPage-BJdCWhEq.js";const L=w({name:"QTab",props:T,emits:q,setup(f,{slots:d,emit:a}){const{renderTab:n}=x(f,d,a);return()=>n("div")}}),G={class:"q-mb-md category-tabs-container"},H={class:"row items-center"},J={class:"row q-col-gutter-md"},K={class:"item-font ellipsis-2-lines"},O={class:"text-subtitle2 ellipsis-2-lines"},W={class:"row items-center no-wrap q-mt-sm q-mb-xs"},X={class:"price-font col"},Y={class:"col-auto"},Z=S({__name:"Menu",setup(f){const d=B(),a=M(),{categories:n}=U(a),l=p({get:()=>{var e;return((e=a.currentCategory)==null?void 0:e.categoryId)||null},set:e=>a.setCurrentCategory(e)}),h=p(()=>{var e;return l.value?(e=n.value.find(u=>u.categoryId===l.value))==null?void 0:e.menuItems:[]}),I=p(()=>a.cartItemCount);V(async()=>{await a.checkMenuUpdate(),a.lastSelectedCategory!==null?l.value=a.lastSelectedCategory:n.value.length>0&&(l.value=n.value[0].categoryId)});const Q=e=>{d.push(`/item/${e.menuItemId}`)},k=()=>{d.push("/cart")};return $(l,e=>{e!==null&&(a.lastSelectedCategory=e)}),(e,u)=>(c(),m(z,{class:"q-pa-md"},{default:s(()=>[o("div",G,[r(N,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=t=>l.value=t),dense:"",class:"text-primary category-tabs","active-color":"primary","indicator-color":"primary","inline-label":"","outside-arrows":"","mobile-arrows":""},{default:s(()=>[(c(!0),_(v,null,g(F(n),t=>(c(),m(L,{key:t.categoryId,name:t.categoryId},{default:s(()=>[o("div",H,i(t.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),o("div",J,[(c(!0),_(v,null,g(h.value,t=>(c(),_("div",{key:t.menuItemId,class:"col-12 col-sm-6 col-md-4"},[r(E,{class:"all-card"},{default:s(()=>[t.photoUrl&&t.photoUrl!==""?(c(),m(C,{key:0,src:t.photoUrl,ratio:e.$q.screen.lt.sm?16/9:4/3,class:"card-image"},null,8,["src","ratio"])):(c(),m(C,{key:1,src:j,ratio:e.$q.screen.lt.sm?16/9:4/3,class:"card-image"},null,8,["ratio"])),r(b,{class:"card-content"},{default:s(()=>[o("div",K,i(t.name),1),o("div",O,i(t.description),1)]),_:2},1024),r(b,{class:"q-pt-none card-footer"},{default:s(()=>[o("div",W,[o("div",X," $"+i(t.price.toFixed(2)),1),o("div",Y,[r(y,{color:"primary",label:"Add to Cart",onClick:ee=>Q(t)},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]))),128))]),r(R,{position:"bottom-right",offset:[18,18]},{default:s(()=>[r(y,{fab:"",icon:"shopping_cart",color:"primary",onClick:k},{default:s(()=>[r(P,{color:"red",floating:""},{default:s(()=>[A(i(I.value),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),le=D(Z,[["__scopeId","data-v-5173e5d1"]]);export{le as default};
