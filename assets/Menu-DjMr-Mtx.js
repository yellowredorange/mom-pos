import{j as x,k as T,l as q,m as w,d as S,n as B,u as M,s as U,q as p,o as V,t as $,f as n,v as u,w as s,a as o,b as r,c as _,x as g,y as F,F as v,Q as N,z as y,g as P,A as m,_ as j}from"./index-CD5ytVcT.js";import{Q as h}from"./QImg-CyM34lnF.js";import{Q as A,a as C}from"./QCard-CE3soYg2.js";import{Q as D,a as E,_ as R}from"./DefaultItemImage-tvbI0X5B.js";import{Q as z}from"./QPage-Kv5dD0yL.js";const L=x({name:"QTab",props:T,emits:q,setup(f,{slots:d,emit:a}){const{renderTab:c}=w(f,d,a);return()=>c("div")}}),G={class:"q-mb-md"},H={class:"row q-col-gutter-md"},J={class:"text-h6 ellipsis-2-lines"},K={class:"text-subtitle2 ellipsis-2-lines"},O={class:"row items-center no-wrap q-mt-sm q-mb-xs"},W={class:"text-h6 col"},X={class:"col-auto"},Y=S({__name:"Menu",setup(f){const d=B(),a=M(),{categories:c}=U(a),l=p({get:()=>{var e;return((e=a.currentCategory)==null?void 0:e.categoryId)||null},set:e=>a.setCurrentCategory(e)}),b=p(()=>{var e;return l.value?(e=c.value.find(i=>i.categoryId===l.value))==null?void 0:e.menuItems:[]}),I=p(()=>a.cartItemCount);V(async()=>{await a.checkMenuUpdate(),a.lastSelectedCategory!==null?l.value=a.lastSelectedCategory:c.value.length>0&&(l.value=c.value[0].categoryId)});const Q=e=>{d.push(`/item/${e.menuItemId}`)},k=()=>{d.push("/cart")};return $(l,e=>{e!==null&&(a.lastSelectedCategory=e)}),(e,i)=>(n(),u(z,{class:"q-pa-md"},{default:s(()=>[o("div",G,[r(N,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=t=>l.value=t),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:s(()=>[(n(!0),_(v,null,g(F(c),t=>(n(),u(L,{key:t.categoryId,name:t.categoryId,label:t.name},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])]),o("div",H,[(n(!0),_(v,null,g(b.value,t=>(n(),_("div",{key:t.menuItemId,class:"col-12 col-sm-6 col-md-4"},[r(A,{class:"all-card"},{default:s(()=>[t.photoUrl&&t.photoUrl!==""?(n(),u(h,{key:0,src:t.photoUrl,ratio:e.$q.screen.lt.sm?16/9:4/3,class:"card-image"},null,8,["src","ratio"])):(n(),u(h,{key:1,src:R,ratio:e.$q.screen.lt.sm?16/9:4/3,class:"card-image"},null,8,["ratio"])),r(C,{class:"card-content"},{default:s(()=>[o("div",J,[o("strong",null,m(t.name),1)]),o("div",K,m(t.description),1)]),_:2},1024),r(C,{class:"q-pt-none card-footer"},{default:s(()=>[o("div",O,[o("div",W," $"+m(t.price.toFixed(2)),1),o("div",X,[r(y,{color:"primary",label:"Add to Cart",onClick:Z=>Q(t)},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)]))),128))]),r(E,{position:"bottom-right",offset:[18,18]},{default:s(()=>[r(y,{fab:"",icon:"shopping_cart",color:"primary",onClick:k},{default:s(()=>[r(D,{color:"red",floating:""},{default:s(()=>[P(m(I.value),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),re=j(Y,[["__scopeId","data-v-0b3223c4"]]);export{re as default};
