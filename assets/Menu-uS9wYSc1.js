import{j as T,k as q,l as x,m as S,d as B,n as $,u as M,s as U,q as p,o as V,t as D,f as n,v as m,w as a,a as o,b as r,c as _,x as v,y as F,F as y,Q as N,z as C,A as P,g as A,B as d,C as E,D as b,_ as O}from"./index-DDzkn71c.js";import{Q as h}from"./QImg-jOUvReMh.js";import{Q as R}from"./QPageSticky-DBo1MOS4.js";import{Q as j}from"./QPage-D7hMwS3A.js";import{_ as z}from"./DefaultItemImage-BqXqOfJ2.js";const L=T({name:"QTab",props:q,emits:x,setup(f,{slots:u,emit:s}){const{renderTab:c}=S(f,u,s);return()=>c("div")}}),G={class:"q-mb-md category-tabs-container"},H={class:"row items-center"},J={class:"row q-col-gutter-md"},K={class:"item-font ellipsis-2-lines"},W={class:"text-subtitle2 ellipsis-2-lines"},X={class:"row items-center no-wrap q-mt-sm q-mb-xs"},Y={class:"price-font col"},Z={class:"col-auto"},ee=B({__name:"Menu",setup(f){const u=$(),s=M(),{categories:c}=U(s),l=p({get:()=>{var t;return((t=s.currentCategory)==null?void 0:t.categoryId)||null},set:t=>s.setCurrentCategory(t)}),k=p(()=>{if(l.value){const t=c.value.find(i=>i.categoryId===l.value);return(t==null?void 0:t.menuItems.slice().sort((i,e)=>i.sortOrder-e.sortOrder))||[]}return[]}),I=p(()=>s.cartItemCount);V(async()=>{await s.checkMenuUpdate(),s.lastSelectedCategory!==null?l.value=s.lastSelectedCategory:c.value.length>0&&(l.value=c.value[0].categoryId)});const g=t=>{u.push(`/item/${t.menuItemId}`)},Q=()=>{u.push("/cart")};return D(l,t=>{t!==null&&(s.lastSelectedCategory=t)}),(t,i)=>(n(),m(j,{class:"q-pa-md"},{default:a(()=>[o("div",G,[r(N,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=e=>l.value=e),dense:"",class:"text-primary category-tabs","active-color":"primary","indicator-color":"primary","inline-label":"","outside-arrows":"","mobile-arrows":""},{default:a(()=>[(n(!0),_(y,null,v(F(c),e=>(n(),m(L,{key:e.categoryId,name:e.categoryId},{default:a(()=>[o("div",H,d(e.name),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),o("div",J,[(n(!0),_(y,null,v(k.value,e=>(n(),_("div",{key:e.menuItemId,class:"col-12 col-sm-6 col-md-4"},[r(E,{class:"all-card",onClick:w=>g(e)},{default:a(()=>[e.photoUrl&&e.photoUrl!==""?(n(),m(h,{key:0,src:e.photoUrl,ratio:t.$q.screen.lt.sm?16/9:4/3,class:"card-image"},null,8,["src","ratio"])):(n(),m(h,{key:1,src:z,ratio:t.$q.screen.lt.sm?16/9:4/3,class:"card-image"},null,8,["ratio"])),r(b,{class:"card-content"},{default:a(()=>[o("div",K,d(e.name),1),o("div",W,d(e.description),1)]),_:2},1024),r(b,{class:"q-pt-none card-footer"},{default:a(()=>[o("div",X,[o("div",Y," $"+d(e.price.toFixed(2)),1),o("div",Z,[r(C,{color:"primary",label:"Add to Cart",onClick:w=>g(e)},null,8,["onClick"])])])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]),r(R,{position:"bottom-right",offset:[18,18]},{default:a(()=>[r(C,{fab:"",icon:"shopping_cart",color:"primary",onClick:Q},{default:a(()=>[r(P,{color:"red",floating:""},{default:a(()=>[A(d(I.value),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),le=O(ee,[["__scopeId","data-v-23f76c14"]]);export{le as default};
