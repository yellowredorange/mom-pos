import{h as i,j as A,C as fe,D as ge,U as X,T as me,P as ve,r as C,o as M,V as B,t as q,q as S,W as he,E as Z,X as F,Y as be,Z as J,$ as xe,a0 as pe,M as Se,a1 as U,a2 as _e,d as ye,u as Ie,f as w,v as P,w as p,b as y,c as O,I as R,x as Y,F as z,g as V,B as Q,_ as Te}from"./index-BLlaJK7K.js";import{a as G,b as ee,d as N,c as $,Q as K}from"./QSeparator-DhmFwzYW.js";import{Q as we,a as ke}from"./QCard-DA5oEvK6.js";import{u as Ce,a as Le,Q as qe}from"./QPage-BJdCWhEq.js";const Qe=[i("circle",{cx:"15",cy:"15",r:"15"},[i("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),i("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),i("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[i("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),i("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),i("circle",{cx:"105",cy:"15",r:"15"},[i("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),i("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])],$e=A({name:"QSpinnerDots",props:fe,setup(e){const{cSize:u,classes:d}=ge(e);return()=>i("svg",{class:d.value,fill:"currentColor",width:u.value,height:u.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},Qe)}}),He=A({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:u,emit:d}){let c=!1,v,s,f=null,o=null,l,g;function r(){v&&v(),v=null,c=!1,f!==null&&(clearTimeout(f),f=null),o!==null&&(clearTimeout(o),o=null),s!==void 0&&s.removeEventListener("transitionend",l),l=null}function h(a,m,x){m!==void 0&&(a.style.height=`${m}px`),a.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,v=x}function b(a,m){a.style.overflowY=null,a.style.height=null,a.style.transition=null,r(),m!==g&&d(m)}function L(a,m){let x=0;s=a,c===!0?(r(),x=a.offsetHeight===a.scrollHeight?0:void 0):(g="hide",a.style.overflowY="hidden"),h(a,x,m),f=setTimeout(()=>{f=null,a.style.height=`${a.scrollHeight}px`,l=t=>{o=null,(Object(t)!==t||t.target===a)&&b(a,"show")},a.addEventListener("transitionend",l),o=setTimeout(l,e.duration*1.1)},100)}function T(a,m){let x;s=a,c===!0?r():(g="show",a.style.overflowY="hidden",x=a.scrollHeight),h(a,x,m),f=setTimeout(()=>{f=null,a.style.height=0,l=t=>{o=null,(Object(t)!==t||t.target===a)&&b(a,"hide")},a.addEventListener("transitionend",l),o=setTimeout(l,e.duration*1.1)},100)}return X(()=>{c===!0&&r()}),()=>i(me,{css:!1,appear:e.appear,onEnter:L,onLeave:T},u.default)}});function Oe(e){return e??null}function W(e,u){return e??(u===!0?`f_${B()}`:null)}function Be({getValue:e,required:u=!0}={}){if(ve.value===!0){const d=e!==void 0?C(Oe(e())):C(null);return u===!0&&d.value===null&&M(()=>{d.value=`f_${B()}`}),e!==void 0&&q(e,c=>{d.value=W(c,u)}),d}return e!==void 0?S(()=>W(e(),u)):C(`f_${B()}`)}const Ne={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Pe=["beforeShow","show","beforeHide","hide"];function Ve({showing:e,canShow:u,hideOnRouteChange:d,handleShow:c,handleHide:v,processOnMount:s}){const f=Z(),{props:o,emit:l,proxy:g}=f;let r;function h(t){e.value===!0?T(t):b(t)}function b(t){if(o.disable===!0||t!==void 0&&t.qAnchorHandled===!0||u!==void 0&&u(t)!==!0)return;const I=o["onUpdate:modelValue"]!==void 0;I===!0&&(l("update:modelValue",!0),r=t,F(()=>{r===t&&(r=void 0)})),(o.modelValue===null||I===!1)&&L(t)}function L(t){e.value!==!0&&(e.value=!0,l("beforeShow",t),c!==void 0?c(t):l("show",t))}function T(t){if(o.disable===!0)return;const I=o["onUpdate:modelValue"]!==void 0;I===!0&&(l("update:modelValue",!1),r=t,F(()=>{r===t&&(r=void 0)})),(o.modelValue===null||I===!1)&&a(t)}function a(t){e.value!==!1&&(e.value=!1,l("beforeHide",t),v!==void 0?v(t):l("hide",t))}function m(t){o.disable===!0&&t===!0?o["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):t===!0!==e.value&&(t===!0?L:a)(r)}q(()=>o.modelValue,m),d!==void 0&&he(f)===!0&&q(()=>g.$route.fullPath,()=>{d.value===!0&&e.value===!0&&T()}),s===!0&&M(()=>{m(o.modelValue)});const x={show:b,hide:T,toggle:h};return Object.assign(g,x),x}const k=be({}),Ae=Object.keys(J),Me=A({name:"QExpansionItem",props:{...J,...Ne,...Ce,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Pe,"click","afterShow","afterHide"],setup(e,{slots:u,emit:d}){const{proxy:{$q:c}}=Z(),v=Le(e,c),s=C(e.modelValue!==null?e.modelValue:e.defaultOpened),f=C(null),o=Be(),{show:l,hide:g,toggle:r}=Ve({showing:s});let h,b;const L=S(()=>`q-expansion-item q-item-type q-expansion-item--${s.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),T=S(()=>e.contentInsetLevel===void 0?null:{["padding"+(c.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),a=S(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),m=S(()=>{const n={};return Ae.forEach(_=>{n[_]=e[_]}),n}),x=S(()=>a.value===!0||e.expandIconToggle!==!0),t=S(()=>e.expandedIcon!==void 0&&s.value===!0?e.expandedIcon:e.expandIcon||c.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),I=S(()=>e.disable!==!0&&(a.value===!0||e.expandIconToggle===!0)),te=S(()=>({expanded:s.value===!0,detailsId:o.value,toggle:r,show:l,hide:g})),E=S(()=>{const n=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:c.lang.label[s.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":s.value===!0?"true":"false","aria-controls":o.value,"aria-label":n}});q(()=>e.group,n=>{b!==void 0&&b(),n!==void 0&&D()});function ne(n){a.value!==!0&&r(n),d("click",n)}function ae(n){n.keyCode===13&&j(n,!0)}function j(n,_){_!==!0&&f.value!==null&&f.value.focus(),r(n),_e(n)}function oe(){d("afterShow")}function ie(){d("afterHide")}function D(){h===void 0&&(h=B()),s.value===!0&&(k[e.group]=h);const n=q(s,H=>{H===!0?k[e.group]=h:k[e.group]===h&&delete k[e.group]}),_=q(()=>k[e.group],(H,ce)=>{ce===h&&H!==void 0&&H!==h&&g()});b=()=>{n(),_(),k[e.group]===h&&delete k[e.group],b=void 0}}function le(){const n={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},_=[i(U,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&s.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:t.value})];return I.value===!0&&(Object.assign(n,{tabindex:0,...E.value,onClick:j,onKeyup:ae}),_.unshift(i("div",{ref:f,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),i($,n,()=>_)}function re(){let n;return u.header!==void 0?n=[].concat(u.header(te.value)):(n=[i($,()=>[i(N,{lines:e.labelLines},()=>e.label||""),e.caption?i(N,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&n[e.switchToggleSide===!0?"push":"unshift"](i($,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>i(U,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&n[e.switchToggleSide===!0?"unshift":"push"](le()),n}function ue(){const n={ref:"item",style:e.headerStyle,class:e.headerClass,dark:v.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return x.value===!0&&(n.clickable=!0,n.onClick=ne,Object.assign(n,a.value===!0?m.value:E.value)),i(ee,n,re)}function se(){return xe(i("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:T.value,id:o.value},Se(u.default)),[[pe,s.value]])}function de(){const n=[ue(),i(He,{duration:e.duration,onShow:oe,onHide:ie},se)];return e.expandSeparator===!0&&n.push(i(G,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:v.value}),i(G,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:v.value})),n}return e.group!==void 0&&D(),X(()=>{b!==void 0&&b()}),()=>i("div",{class:L.value},[i("div",{class:"q-expansion-item__container relative-position"},de())])}}),Ee={key:0,class:"loading-overlay"},je={key:0,class:"text-grey-8"},De=ye({__name:"OrderHistory",setup(e){const u=Ie(),d=C([]),c=C(!0);M(async()=>{try{d.value=await u.getAllOrders()}catch(o){console.error("Failed to fetch orders:",o)}finally{c.value=!1}});const v=o=>new Date(o).toLocaleString(),s=o=>o.some(l=>l.trim()!==""),f=o=>o.filter(l=>l.trim()!=="").join(", ");return(o,l)=>(w(),P(qe,{padding:""},{default:p(()=>[y(K,{bordered:"",separator:""},{default:p(()=>[c.value?(w(),O("div",Ee,[y($e,{color:"white",size:"50px"})])):R("",!0),(w(!0),O(z,null,Y(d.value,g=>(w(),P(Me,{key:g.orderId,label:`Order #${g.orderId} - ${v(g.orderDate)}`,caption:`Total: $${g.totalAmount.toFixed(2)}`,group:"orders","header-class":"order-header"},{default:p(()=>[y(we,null,{default:p(()=>[y(ke,null,{default:p(()=>[y(K,{dense:""},{default:p(()=>[(w(!0),O(z,null,Y(g.orderItems,r=>(w(),P(ee,{key:r.orderItemId},{default:p(()=>[y($,null,{default:p(()=>[y(N,null,{default:p(()=>[V(Q(r.quantity)+"x "+Q(r.menuItemName)+" ",1),s(r.options)?(w(),O("span",je," ("+Q(f(r.options))+")",1)):R("",!0)]),_:2},1024),y(N,{caption:""},{default:p(()=>[V(" Unit Price: $"+Q(r.unitPrice.toFixed(2)),1)]),_:2},1024)]),_:2},1024),y($,{side:""},{default:p(()=>[V(" $"+Q(r.totalPrice.toFixed(2)),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["label","caption"]))),128))]),_:1})]),_:1}))}}),ze=Te(De,[["__scopeId","data-v-ba356025"]]);export{ze as default};
