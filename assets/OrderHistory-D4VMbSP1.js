import{h as a,j as H,E as re,G as se,U as K,T as ue,V as de,W as U,X as ce,H as ge,Y as fe,J as me,K as ve,r as q,Z as he,$ as be,q as y,t as B,a0 as xe,P as M,a1 as Se,a2 as _e,R as ye,a3 as j,a4 as Ie,d as pe,u as we,o as Te,f as p,v as $,w as f,b as I,c as k,O as F,x as V,F as R,C as Ce,D as Le,g as E,B as T,_ as ke}from"./index-_obB6ZCr.js";import{a as Y,c as O,b as C,Q as G}from"./QList-BCVA3JDF.js";import{Q as qe}from"./QPage-DxPdVBgp.js";const Oe=[a("circle",{cx:"15",cy:"15",r:"15"},[a("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),a("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[a("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),a("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),a("circle",{cx:"105",cy:"15",r:"15"},[a("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])],Qe=H({name:"QSpinnerDots",props:re,setup(e){const{cSize:m,classes:v}=se(e);return()=>a("svg",{class:v.value,fill:"currentColor",width:m.value,height:m.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},Oe)}}),Ne=H({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:m,emit:v}){let s=!1,h,o,u=null,i=null,l,d;function r(){h&&h(),h=null,s=!1,u!==null&&(clearTimeout(u),u=null),i!==null&&(clearTimeout(i),i=null),o!==void 0&&o.removeEventListener("transitionend",l),l=null}function c(n,g,x){g!==void 0&&(n.style.height=`${g}px`),n.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,s=!0,h=x}function b(n,g){n.style.overflowY=null,n.style.height=null,n.style.transition=null,r(),g!==d&&v(g)}function Q(n,g){let x=0;o=n,s===!0?(r(),x=n.offsetHeight===n.scrollHeight?0:void 0):(d="hide",n.style.overflowY="hidden"),c(n,x,g),u=setTimeout(()=>{u=null,n.style.height=`${n.scrollHeight}px`,l=S=>{i=null,(Object(S)!==S||S.target===n)&&b(n,"show")},n.addEventListener("transitionend",l),i=setTimeout(l,e.duration*1.1)},100)}function N(n,g){let x;o=n,s===!0?r():(d="show",n.style.overflowY="hidden",x=n.scrollHeight),c(n,x,g),u=setTimeout(()=>{u=null,n.style.height=0,l=S=>{i=null,(Object(S)!==S||S.target===n)&&b(n,"hide")},n.addEventListener("transitionend",l),i=setTimeout(l,e.duration*1.1)},100)}return K(()=>{s===!0&&r()}),()=>a(ue,{css:!1,appear:e.appear,onEnter:Q,onLeave:N},m.default)}}),w=de({}),Be=Object.keys(U),$e=H({name:"QExpansionItem",props:{...U,...ce,...ge,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...fe,"click","afterShow","afterHide"],setup(e,{slots:m,emit:v}){const{proxy:{$q:s}}=me(),h=ve(e,s),o=q(e.modelValue!==null?e.modelValue:e.defaultOpened),u=q(null),i=he(),{show:l,hide:d,toggle:r}=be({showing:o});let c,b;const Q=y(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),N=y(()=>e.contentInsetLevel===void 0?null:{["padding"+(s.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),n=y(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),g=y(()=>{const t={};return Be.forEach(_=>{t[_]=e[_]}),t}),x=y(()=>n.value===!0||e.expandIconToggle!==!0),S=y(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||s.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),z=y(()=>e.disable!==!0&&(n.value===!0||e.expandIconToggle===!0)),J=y(()=>({expanded:o.value===!0,detailsId:i.value,toggle:r,show:l,hide:d})),P=y(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:s.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":i.value,"aria-label":t}});B(()=>e.group,t=>{b!==void 0&&b(),t!==void 0&&D()});function W(t){n.value!==!0&&r(t),v("click",t)}function X(t){t.keyCode===13&&A(t,!0)}function A(t,_){_!==!0&&u.value!==null&&u.value.focus(),r(t),Ie(t)}function Z(){v("afterShow")}function ee(){v("afterHide")}function D(){c===void 0&&(c=xe()),o.value===!0&&(w[e.group]=c);const t=B(o,L=>{L===!0?w[e.group]=c:w[e.group]===c&&delete w[e.group]}),_=B(()=>w[e.group],(L,le)=>{le===c&&L!==void 0&&L!==c&&d()});b=()=>{t(),_(),w[e.group]===c&&delete w[e.group],b=void 0}}function te(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},_=[a(j,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:S.value})];return z.value===!0&&(Object.assign(t,{tabindex:0,...P.value,onClick:A,onKeyup:X}),_.unshift(a("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),a(C,t,()=>_)}function ne(){let t;return m.header!==void 0?t=[].concat(m.header(J.value)):(t=[a(C,()=>[a(O,{lines:e.labelLines},()=>e.label||""),e.caption?a(O,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](a(C,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>a(j,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](te()),t}function ae(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:h.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return x.value===!0&&(t.clickable=!0,t.onClick=W,Object.assign(t,n.value===!0?g.value:P.value)),a(Y,t,ne)}function ie(){return Se(a("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:N.value,id:i.value},ye(m.default)),[[_e,o.value]])}function oe(){const t=[ae(),a(Ne,{duration:e.duration,onShow:Z,onHide:ee},ie)];return e.expandSeparator===!0&&t.push(a(M,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:h.value}),a(M,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:h.value})),t}return e.group!==void 0&&D(),K(()=>{b!==void 0&&b()}),()=>a("div",{class:Q.value},[a("div",{class:"q-expansion-item__container relative-position"},oe())])}}),Ee={key:0,class:"loading-overlay"},He={key:0,class:"text-grey-8"},Pe=pe({__name:"OrderHistory",setup(e){const m=we(),v=q([]),s=q(!0);Te(async()=>{try{v.value=await m.getAllOrders()}catch(i){console.error("Failed to fetch orders:",i)}finally{s.value=!1}});const h=i=>new Date(i).toLocaleString(),o=i=>i.some(l=>l.trim()!==""),u=i=>i.filter(l=>l.trim()!=="").join(", ");return(i,l)=>(p(),$(qe,{padding:""},{default:f(()=>[I(G,{bordered:"",separator:""},{default:f(()=>[s.value?(p(),k("div",Ee,[I(Qe,{color:"white",size:"50px"})])):F("",!0),(p(!0),k(R,null,V(v.value,d=>(p(),$($e,{key:d.orderId,label:`Order #${d.orderId} - ${h(d.orderDate)}`,caption:`Total: $${d.totalAmount.toFixed(2)}`,group:"orders","header-class":"order-header"},{default:f(()=>[I(Ce,null,{default:f(()=>[I(Le,null,{default:f(()=>[I(G,{dense:""},{default:f(()=>[(p(!0),k(R,null,V(d.orderItems,r=>(p(),$(Y,{key:r.orderItemId},{default:f(()=>[I(C,null,{default:f(()=>[I(O,null,{default:f(()=>[E(T(r.quantity)+"x "+T(r.menuItemName)+" ",1),o(r.options)?(p(),k("span",He," ("+T(u(r.options))+")",1)):F("",!0)]),_:2},1024),I(O,{caption:""},{default:f(()=>[E(" Unit Price: $"+T(r.unitPrice.toFixed(2)),1)]),_:2},1024)]),_:2},1024),I(C,{side:""},{default:f(()=>[E(" $"+T(r.totalPrice.toFixed(2)),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["label","caption"]))),128))]),_:1})]),_:1}))}}),je=ke(Pe,[["__scopeId","data-v-0d1e119e"]]);export{je as default};
