import{h as o,p as E,H as se,I as ue,Y as G,T as de,Z as ce,$ as K,a0 as ge,J as fe,a1 as me,L as ve,M as he,r as H,a2 as be,a3 as ye,c as _,z as O,a4 as xe,W as j,a5 as Se,a6 as Ie,X as _e,a7 as F,a8 as pe,d as we,a as Te,o as ke,f as p,j as B,w as m,i as A,t as w,l as b,g as k,S as V,A as z,E as Le,C as Ce,F as R,m as q,D as qe,_ as He}from"./index-6v_cMgFu.js";import{a as U,c as $,b as L,Q as Y}from"./QList-BILn4uh7.js";import{Q as $e}from"./QPage-o1k6HZV2.js";const Ne=[o("circle",{cx:"15",cy:"15",r:"15"},[o("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),o("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[o("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),o("circle",{cx:"105",cy:"15",r:"15"},[o("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),o("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])],Qe=E({name:"QSpinnerDots",props:se,setup(e){const{cSize:v,classes:c}=ue(e);return()=>o("svg",{class:c.value,fill:"currentColor",width:v.value,height:v.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},Ne)}}),Oe=E({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:v,emit:c}){let s=!1,h,r,u=null,a=null,i,d;function l(){h&&h(),h=null,s=!1,u!==null&&(clearTimeout(u),u=null),a!==null&&(clearTimeout(a),a=null),r!==void 0&&r.removeEventListener("transitionend",i),i=null}function g(n,f,x){f!==void 0&&(n.style.height=`${f}px`),n.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,s=!0,h=x}function y(n,f){n.style.overflowY=null,n.style.height=null,n.style.transition=null,l(),f!==d&&c(f)}function N(n,f){let x=0;r=n,s===!0?(l(),x=n.offsetHeight===n.scrollHeight?0:void 0):(d="hide",n.style.overflowY="hidden"),g(n,x,f),u=setTimeout(()=>{u=null,n.style.height=`${n.scrollHeight}px`,i=S=>{a=null,(Object(S)!==S||S.target===n)&&y(n,"show")},n.addEventListener("transitionend",i),a=setTimeout(i,e.duration*1.1)},100)}function Q(n,f){let x;r=n,s===!0?l():(d="show",n.style.overflowY="hidden",x=n.scrollHeight),g(n,x,f),u=setTimeout(()=>{u=null,n.style.height=0,i=S=>{a=null,(Object(S)!==S||S.target===n)&&y(n,"hide")},n.addEventListener("transitionend",i),a=setTimeout(i,e.duration*1.1)},100)}return G(()=>{s===!0&&l()}),()=>o(de,{css:!1,appear:e.appear,onEnter:N,onLeave:Q},v.default)}}),T=ce({}),Be=Object.keys(K),Ae=E({name:"QExpansionItem",props:{...K,...ge,...fe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...me,"click","afterShow","afterHide"],setup(e,{slots:v,emit:c}){const{proxy:{$q:s}}=ve(),h=he(e,s),r=H(e.modelValue!==null?e.modelValue:e.defaultOpened),u=H(null),a=be(),{show:i,hide:d,toggle:l}=ye({showing:r});let g,y;const N=_(()=>`q-expansion-item q-item-type q-expansion-item--${r.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),Q=_(()=>e.contentInsetLevel===void 0?null:{["padding"+(s.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),n=_(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),f=_(()=>{const t={};return Be.forEach(I=>{t[I]=e[I]}),t}),x=_(()=>n.value===!0||e.expandIconToggle!==!0),S=_(()=>e.expandedIcon!==void 0&&r.value===!0?e.expandedIcon:e.expandIcon||s.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),J=_(()=>e.disable!==!0&&(n.value===!0||e.expandIconToggle===!0)),W=_(()=>({expanded:r.value===!0,detailsId:a.value,toggle:l,show:i,hide:d})),P=_(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:s.lang.label[r.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":r.value===!0?"true":"false","aria-controls":a.value,"aria-label":t}});O(()=>e.group,t=>{y!==void 0&&y(),t!==void 0&&D()});function X(t){n.value!==!0&&l(t),c("click",t)}function Z(t){t.keyCode===13&&M(t,!0)}function M(t,I){I!==!0&&u.value!==null&&u.value.focus(),l(t),pe(t)}function ee(){c("afterShow")}function te(){c("afterHide")}function D(){g===void 0&&(g=xe()),r.value===!0&&(T[e.group]=g);const t=O(r,C=>{C===!0?T[e.group]=g:T[e.group]===g&&delete T[e.group]}),I=O(()=>T[e.group],(C,le)=>{le===g&&C!==void 0&&C!==g&&d()});y=()=>{t(),I(),T[e.group]===g&&delete T[e.group],y=void 0}}function ne(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},I=[o(F,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&r.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:S.value})];return J.value===!0&&(Object.assign(t,{tabindex:0,...P.value,onClick:M,onKeyup:Z}),I.unshift(o("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),o(L,t,()=>I)}function ae(){let t;return v.header!==void 0?t=[].concat(v.header(W.value)):(t=[o(L,()=>[o($,{lines:e.labelLines},()=>e.label||""),e.caption?o($,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](o(L,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>o(F,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](ne()),t}function oe(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:h.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return x.value===!0&&(t.clickable=!0,t.onClick=X,Object.assign(t,n.value===!0?f.value:P.value)),o(U,t,ae)}function ie(){return Se(o("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:Q.value,id:a.value},_e(v.default)),[[Ie,r.value]])}function re(){const t=[oe(),o(Oe,{duration:e.duration,onShow:ee,onHide:te},ie)];return e.expandSeparator===!0&&t.push(o(j,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:h.value}),o(j,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:h.value})),t}return e.group!==void 0&&D(),G(()=>{y!==void 0&&y()}),()=>o("div",{class:N.value},[o("div",{class:"q-expansion-item__container relative-position"},re())])}}),Ee={class:"page-title"},Pe={style:{"font-size":"1rem","margin-bottom":"1rem","text-align":"center"}},Me={key:0,class:"loading-overlay"},De={key:0,class:"text-grey-8"},je={key:2,class:"text-h6 q-pa-md text-center text-color-primary"},Fe={class:"btn-container"},Ve=we({__name:"OrderHistory",setup(e){const v=Te(),c=H([]),s=H(!0);ke(async()=>{try{c.value=await v.getAllOrders()}catch(a){console.error("Failed to fetch orders:",a)}finally{s.value=!1}});const h=a=>new Date(a).toLocaleString(),r=a=>a.some(i=>i.trim()!==""),u=a=>a.filter(i=>i.trim()!=="").join(", ");return(a,i)=>(p(),B($e,{padding:""},{default:m(()=>[A("h5",Ee,w(a.$t("orderHistory.title")),1),A("div",Pe,w(a.$t("orderHistory.description")),1),b(Y,{bordered:"",separator:""},{default:m(()=>[s.value?(p(),k("div",Me,[b(Qe,{color:"white",size:"50px"})])):V("",!0),c.value&&c.value.length>0?(p(!0),k(R,{key:1},z(c.value,d=>(p(),B(Ae,{key:d.orderId,label:`${a.$t("orderHistory.orderLabel",{orderId:d.orderId,date:h(d.orderDate)})}`,caption:`${a.$t("orderHistory.total",{totalAmount:d.totalAmount.toFixed(2)})}`,group:"orders","header-class":"order-header"},{default:m(()=>[b(Le,null,{default:m(()=>[b(Ce,null,{default:m(()=>[b(Y,{dense:""},{default:m(()=>[(p(!0),k(R,null,z(d.orderItems,l=>(p(),B(U,{key:l.orderItemId},{default:m(()=>[b(L,null,{default:m(()=>[b($,null,{default:m(()=>[q(w(l.quantity)+"x "+w(l.menuItemName)+" ",1),r(l.options)?(p(),k("span",De," ("+w(u(l.options))+") ",1)):V("",!0)]),_:2},1024),b($,{caption:""},{default:m(()=>[q(w(a.$t("orderHistory.unitPrice",{unitPrice:l.unitPrice.toFixed(2)})),1)]),_:2},1024)]),_:2},1024),b(L,{side:""},{default:m(()=>[q(" $"+w(l.totalPrice.toFixed(2)),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["label","caption"]))),128)):(p(),k("div",je,[q(w(a.$t("orderHistory.noOrders"))+" ",1),A("div",Fe,[b(qe,{color:"primary",label:a.$t("orderHistory.orderNow"),onClick:i[0]||(i[0]=d=>a.$router.push("/menu")),class:"cta-button"},null,8,["label"])])]))]),_:1})]),_:1}))}}),Ge=He(Ve,[["__scopeId","data-v-fc06f6f3"]]);export{Ge as default};
